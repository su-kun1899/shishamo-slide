@title[Title]
# SpringBootとMyBatisでデータベースを可視化する

JJUG CCC 2017 Fall (2017/11/18)

---

@title[Title]

# 自己紹介

## @su_kun_1899

![Logo](https://pbs.twimg.com/profile_images/751787309322821633/BqUIbey1_400x400.jpg)

PaDDエンジニア。モブプログラマー。心はいつでもスクラムマスター。  
もっと楽しく仕事をする「PaDD」こと「Passion Driven Development」を心情に、自分が今いる現場を少しでも改善しようと日々奮闘してます。

---

@title[Title]
# 今日話すこと

- レガシーシステムと戦う切り口として、データ構造の可視化が大切
- MySQLのデータ構造を可視化するSpring Bootアプリケーションを作った
- Spring Boot, MyBatis, Spockを使ってみた

---

# レガシーシステム？

- 複雑に肥大化
- 不十分な構成管理
- 再現性のない環境
- 整備されていないテスト
- 失われた（サポートの切れた）技術
- etc

---

# 要は

よく分からないし、どっかをいじったらどっかが壊れそうなシステム  
（もしかしたらもう壊れてるのかも。。）

---

# どう戦うか？

- よく分からないものを分かるようにする

---

# データから切り込む

- システムは多くの場合インプットとアウトプットで成り立つ
- データがシステムの成果物であることが多い
- アプリケーションには設計や思想が現れる
  - 設計が歪んでいる場合、かえってノイズになることが多い

---

# どう戦うか？

- データ構造を抑える

---

# そうだ、ER図だ

---

# エンティティ定義書.xls

- 一部最新でないものがあります
- 一部扱っていないテーブルがあります
- 一部(ry

---

# ドキュメントは古くなる

- ドキュメントは元々システム開発のインプット（設計書）としての役割が大きかった
- システムはより育てるものへとシフトしている
- リリースサイクルが上がる一方の中、システムに追従していくことは高コスト
- そして置いていかれる。。

---

# 信じられるのはコードだけ

```sql
desc hoge_table;
show create table hoge;
```

DBにログインして都度構造を確認するのはツライ。。

---

# ここまでのまとめ

- システム開発ではデータ構造を抑えるのが重要（ぽい）
- ドキュメントで表現するのは高コスト（ぽい）
- どうやってデータ構造を抑えていくのがいいだろうか

---


# ネタ

- タイトル
- 自己紹介
- 今日伝えたいこと
  - 可視化大事
  - 世界は便利になっている
  - なんか作ってみよう
- 今日話すこと
  - Spring BootでDBの可視化ツールを作った
    - なぜ作ったのか
    - どうやって作ったのか
    - 作ってみてどうだったのか
- データベースの可視化
  - レガシーシステムではデータ構造を抑えるのが肝
  - descやshow create tableを手打ちする生活
- SchemaSpy
  - マイクロサービスアーキテクチャ読んで知った
- Spring Boot
- My Batis
- Spock
- Maven
- IntelliJ IDEA
- オチ
  - Kotlinで書き換えるプルリクが来た
